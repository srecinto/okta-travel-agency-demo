{% extends "template.html" %}

{% block content %}
      <script type="text/javascript">
        var getUrlParameter = function getUrlParameter(sParam) {
          var sPageURL = window.location.search.substring(1),
              sURLVariables = sPageURL.split('&'),
              sParameterName,
              i;
      
          for (i = 0; i < sURLVariables.length; i++) {
              sParameterName = sURLVariables[i].split('=');
      
              if (sParameterName[0] === sParam) {
                  return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
              }
          }
      };
      
      $(document).ready(function () { 
          var groupname = getUrlParameter ('groupname');
          console.log(groupname)
          $('input[name="groupname"]').val(groupname);
      });
      </script>

      <script type="text/javascript">
        $(window).on('load',function(){
            var message = getUrlParameter('message');
            console.log(message);
            if (!message)
            {
              //do nothing
            }
            else
            {
              $('#basicExampleModal').modal('show');
            }
        });
        
        var getUrlParameter = function getUrlParameter(sParam) {
            var sPageURL = window.location.search.substring(1),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;
        
            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');
        
                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
                }
            }
        };
      </script>
      <!-- Modal -->
      <div class="modal fade" id="basicExampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Message</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             {{ request.args.get('message')|safe }}
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
       <!-- End Modal -->
       
      <!-- breadcrumb start -->
      <!-- ================ -->
      <div class="breadcrumb-container">
        <div class="container">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><i class="fa fa-home pr-2"></i><a class="link-dark" href="{{ url_for('home', _external='True', _scheme='https') }}">Home</a></li>
            <li class="breadcrumb-item active">Sign Up</li>
          </ol>
        </div>
      </div>
      <!-- breadcrumb end -->

      <!-- main-container start -->
      <!-- ================ -->
      <div class="main-container dark-translucent-bg" style="background-image:url('images/background-img-6.jpg');">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-auto">
              <!-- main start -->
              <!-- ================ -->
              <div class="main hc-element-invisible" data-animation-effect="fadeInUpSmall" data-effect-delay="100">
                <div class="form-block p-30 light-gray-bg border-clear">
                  <h2 class="title">Sign Up</h2>
                  <form class="form-horizontal" action='signupcreateuser' method="POST">
                    <div class="form-group has-feedback row">
                      <label for="inputName" class="col-md-3 control-label text-md-right col-form-label">First Name <span class="text-danger small">*</span></label>
                      <div class="col-md-8">
                        <input type="text" class="form-control" name="firstname" placeholder="First Name" required>
                        <i class="fa fa-pencil form-control-feedback pr-4"></i>
                      </div>
                    </div>
                    <div class="form-group has-feedback row">
                      <label for="inputLastName" class="col-md-3 control-label text-md-right col-form-label">Last Name <span class="text-danger small">*</span></label>
                      <div class="col-md-8">
                        <input type="text" class="form-control" name="lastname" placeholder="Last Name" required>
                        <i class="fa fa-pencil form-control-feedback pr-4"></i>
                      </div>
                    </div>
                    <div class="form-group has-feedback row">
                      <label for="inputUserName" class="col-md-3 control-label text-md-right col-form-label">User Name <span class="text-danger small">*</span></label>
                      <div class="col-md-8">
                        <input type="text" class="form-control" name="login" placeholder="User Name" required>
                        <i class="fa fa-user form-control-feedback pr-4"></i>
                      </div>
                    </div>
                    <div class="form-group has-feedback row">
                      <label for="inputEmail" class="col-md-3 control-label text-md-right col-form-label">Email <span class="text-danger small">*</span></label>
                      <div class="col-md-8">
                        <input type="email" class="form-control" name="email" placeholder="Email" required>
                        <i class="fa fa-envelope form-control-feedback pr-4"></i>
                      </div>
                    </div>
                    <div class="form-group has-feedback row">
                      <label for="inputPassword" class="col-md-3 control-label text-md-right col-form-label">Password <span class="text-danger small">*</span></label>
                      <div class="col-md-8">
                        <input type="password" class="form-control" name="password" placeholder="Password" required>
                        <i class="fa fa-lock form-control-feedback pr-4"></i>
                      </div>
                    </div>
                    <input type="hidden" class="form-control" name="groupname" id="groupname">
                    <div class="form-group row">
                      <div class="ml-md-auto col-md-9">
                        <button type="submit" class="btn btn-group btn-default btn-animated">Sign Up <i class="fa fa-check"></i></button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
              <!-- main end -->
            </div>
          </div>
        </div>
      </div>
      <!-- main-container end -->

{% endblock content %}